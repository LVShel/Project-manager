<html layout:decorator="layout" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:layout="http://www.w3.org/1999/xhtml">
<div layout:fragment="content">
    <form method="post" name="developer_form" id="developer_form" action="/developers/assignToProject" role="form">

        <input type="hidden" id="developer_id" rows="5" class="form-control" name="developer_id" th:value="${developer.id}"/>
        <div class="input-group col-xs-2">
            <label for="projectNameSelect"><h2>Select project</h2></label>
            <select class="form-control " id="projectNameSelect" name="project_id">
                <option th:each="project : *{projects}" th:text="${project.name}" th:value="${project.id}"></option>
            </select>
            <input type="submit" value="Assign" class="btn btn-primary btn-lg" />
        </div>
        <table class="table table-striped" id="project_list">
            <thead>
            <tr >
                <th>Id</th>
                <th>Name of project</th>
                <th>Developers needed</th>
                <th>Seniors needed:</th>
                <th>Middles needed:</th>
                <th>Juniors needed:</th>
                <th>Developers on project</th>
            </tr>
            </thead>
            <tbody>
            <tr data-th-each="project : ${projects}">
                <td class="name" data-th-text="${project.id}"></td>
                <td class="name" data-th-text="${project.name}"></td>
                <td class="name" data-th-text="${project.seniorsNeed+project.middlesNeed+project.juniorsNeed}"></td>
                <td class="name" data-th-text="${project.seniorsNeed-project.seniorsOnProject}"></td>
                <td class="name" data-th-text="${project.middlesNeed-project.middlesOnProject}"></td>
                <td class="name" data-th-text="${project.juniorsNeed-project.juniorsOnProject}"></td>
                <td class="name" data-th-text="${project.developersOnProject.size()}"></td>

            </tr>
            </tbody>
        </table>



    </form>
</div>
</html>